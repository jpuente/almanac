% -*- coding: utf-8 -*-

\chapter{Conclusiones y trabajos futuros}\label{ch:conclusiones}

En este capítulo se realiza una reflexión sobre los resultados alcanzados y se presenta una recopilación de posibles avances a desarrollar en próximas líneas de trabajo.

\section{Conclusiones}

En el desarrollo del presente proyecto se han abordado diferentes facetas de la problemática actual en la navegación de robots móviles, fundamentalmente dentro de entornos de interiores. Se ha construido un sistema robusto y fácilmente utilizable por diferentes plataformas robóticas mediante sencilla adaptación del envío de los comandos de bajo nivel y la recepción de los datos de los sensores (odometría y láser). Se dispone de una interfaz gráfica que permite evaluar el comportamiento del sistema de una forma sencilla, incorporando también todos los botones necesarios para la selección de opciones. El funcionamiento puede ser en modo de simulación, basado en la utilización de datos del estado del robot y del entorno almacenados en un fichero en experimentos previos, o en operación con los robots reales.

A continuación se exponen los resultados, conclusiones y aportaciones más relevantes de cada una de las dos partes principales que constituyen el proyecto.

\begin{itemize}
  \item \subsubsection{Control de movimiento, planificación de trayectorias y control reactivo}

  Esta primera componente del proyecto abarca el diseño de un sistema de control que permite al robot desplazarse sobre una trayectoria suavizada en los puntos de paso definidos, de modo que antes de llegar exactamente hasta uno de dichos puntos comienza a orientarse hacia el siguiente. Este módulo de control garantiza que el robot no choca contra ningún obstáculo, ya que se sigue una estrategia de alto nivel en la que la trayectoria nominal anterior se deforma en tiempo real para apartarse de ellos y, además, el regulador implementado impide que el robot se separe de esta nueva trayectoria ya libre de cualquier objeto detectado por el sensor láser. En la aplicación particular aquí realizada para el robot Urbano, la presencia de obstáculos a alturas inferiores a la posición del láser sobre el robot no se refleja en la trayectoria deformada obtenida; en este caso actúan los sensores de ultrasonidos del robot y mediante control reactivo de bajo nivel basado en comandos de cambio de velocidad de avance o giro se evita colisión alguna, regresando después el robot a la última trayectoria obtenida. En caso de que el robot no pueda salvar algún obstáculo o no pueda hacerlo sin desviarse más de la cuenta, el robot se para y se encontrará en situación de bloqueo, a la espera de nuevas órdenes o de la definición de otro camino.

  \item \subsubsection{Localización y mapas}
  Para que el control en bucle cerrado no se vea perjudicado por los errores acumulados en los datos de los encóders sobre la posición del robot en cada instante, se ha utilizado un algoritmo de localización basado en el filtro extendido de Kalman (EKF). Se trata de una aplicación innovadora, al utilizar directamente los mismos puntos detectados por el láser tanto para la construcción de un mapa del entorno como para corregir la estimación de la posición del robot en cada momento. El problema que presenta consiste precisamente en que no se tiene en cuenta la incertidumbre del propio mapa, aunque este hecho es generalizado en gran parte de los trabajos realizados en este ámbito. La asociación de datos se realiza sólo tras su aceptación mediante el test de Mahalannobis, con un intervalo de confianza del 95\% en la distribución $\chi^{2}$ con 3 grados de libertad. Los resultados obtenidos con los datos tomados en las instalaciones de Intel y en el Museo de las Ciencias Príncipe Felipe de Valencia son especialmente buenos. Respecto al primer caso, resultaría prácticamente imposible cerrar un bucle de este tipo a partir de datos procedentes exclusivamente de la odometría, y más si éstos tienen tan poca calidad. El borrado de puntos antiguos permite mejorar la localización en la llegada a la zona cercana al punto de partida. Respecto al caso del museo, cabe destacar la gran extensión del área explorada así como la coincidencia casi exacta de patrones en partes del mapa elaboradas al cabo de tiempos muy distintos y a pesar de la complejidad geométrica del entorno. La posibilidad de borrar aquellos puntos del mapa que dejen de observarse en las inmediaciones del robot mejora la fiabilidad de los mapas construidos. Con ello pueden evitarse errores en la asociación de datos y se impide que el robot tenga que esquivar obstáculos ya inexistentes.

\end{itemize}

La interacción de ambos subsistemas permite una navegación precisa y segura del robot en entornos complejos, incluso con presencia de obstáculos dinámicos en los mismos. Todas las tareas que han de desempeñarse suponen una carga computacional relativamente elevada, lo que ocasionaba problemas en la ejecución, sobre todo con los robots reales. Se ha tratado de mejorar el código para minimizar el tiempo de procesamiento, lográndose finalmente unos buenos resultados al respecto.

\section{Líneas futuras}
Los principales puntos para caracterizar el planteamiento establecido en la evolución futura del proyecto realizado son los siguientes:

\begin{itemize}
  \item Utilización del sistema de localización para el robot Pionner P3At tan pronto como éste disponga de un láser que le permita obtener información sobre su entorno.
  \item Extensión de los modelos geométricos 2D a 3D mediante la utilización de una muñeca que incline el láser. Probablemente será necesario emplear nuevos métodos de procesamiento de datos para gestionar el incremento en
      el número de medidas.
  \item Definición de trayectorias iniciales mediante el seguimiento de una persona o mediante comandos enviados a Urbano por voz.
  \item Dotar al robot de una autonomía más completa, incorporando conductas que le permitan seguir un proceso de aprendizaje por sí mismo.
\end{itemize}

